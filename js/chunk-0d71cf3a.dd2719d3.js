(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d71cf3a"],{"14c3":function(t,e,a){var s=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"4d48":function(t,e,a){},"5dae":function(t,e,a){"use strict";var s=a("4d48"),n=a.n(s);n.a},7843:function(t,e,a){"use strict";var s=a("b4fc"),n=a.n(s);n.a},"8ae1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal__dialog"},[a("div",{staticClass:"modal__header"},[a("div",{staticClass:"modal__img"},[a("img",{staticClass:"searchResultsList",attrs:{src:t.track.album.images[0].url,alt:t.track.album.name}})]),a("span",{staticClass:"modal__title"},[t._v(" "+t._s(t.track.name)+" ")]),a("span",{staticClass:"modal__text"},[t._v(" "+t._s(t._f("formatArtist")(t.track.artists))+" ")])]),a("div",{staticClass:"modal__body"},[a("ul",{staticClass:"modalList"},[a("li",{staticClass:"modalList__item"},[a("a",{staticClass:"modalList__link u-d-block",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("closeModal",!0)}}},[a("span",{staticClass:"modalList__icon u-d-block"}),t._v("新增到播放清單 ")])]),t._m(0),t._m(1),t._m(2),t._m(3)])]),a("div",{staticClass:"modal__footer"},[a("button",{staticClass:"modal__close",on:{click:function(e){return e.preventDefault(),t.$emit("closeModal",!1)}}},[t._v(" 關閉 ")])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"modalList__item"},[a("a",{staticClass:"modalList__link u-d-block",attrs:{href:"#"}},[a("span",{staticClass:"modalList__icon"}),t._v("前往歌手 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"modalList__item"},[a("a",{staticClass:"modalList__link u-d-block",attrs:{href:"#"}},[a("span",{staticClass:"modalList__icon"}),t._v("前往專輯 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"modalList__item"},[a("a",{staticClass:"modalList__link u-d-block",attrs:{href:"#"}},[a("span",{staticClass:"modalList__icon"}),t._v("儲存到我的最愛 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"modalList__item"},[a("a",{staticClass:"modalList__link u-d-block",attrs:{href:"#"}},[a("span",{staticClass:"modalList__icon"}),t._v("分享 ")])])}],r={name:"ModalTrack",components:{},props:{track:{type:Object,default:function(){return{}}}}},i=r,l=(a("5dae"),a("2877")),c=Object(l["a"])(i,s,n,!1,null,"257275c0",null);e["a"]=c.exports},9263:function(t,e,a){"use strict";var s=a("ad6d"),n=a("9f7f"),r=RegExp.prototype.exec,i=String.prototype.replace,l=r,c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),o=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=c||u||o;d&&(l=function(t){var e,a,n,l,d=this,_=o&&d.sticky,f=s.call(d),p=d.source,m=0,v=t;return _&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),a=new RegExp("^(?:"+p+")",f)),u&&(a=new RegExp("^"+p+"$(?!\\s)",f)),c&&(e=d.lastIndex),n=r.call(_?a:d,v),_?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:c&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(n[l]=void 0)})),n}),t.exports=l},"9f7f":function(t,e,a){"use strict";var s=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=s((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=s((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var s=a("23e7"),n=a("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,a){"use strict";var s=a("825a");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b4fc:function(t,e,a){},d784:function(t,e,a){"use strict";a("ac1f");var s=a("6eeb"),n=a("d039"),r=a("b622"),i=a("9263"),l=a("9112"),c=r("species"),o=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),_=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var p=r(t),m=!n((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=m&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[c]=function(){return a},a.flags="",a[p]=/./[p]),a.exec=function(){return e=!0,null},a[p](""),!e}));if(!m||!v||"replace"===t&&(!o||!u||_)||"split"===t&&!f){var b=/./[p],g=a(p,""[t],(function(t,e,a,s,n){return e.exec===i?m&&!n?{done:!0,value:b.call(e,a,s)}:{done:!0,value:t.call(a,e,s)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:_}),x=g[0],h=g[1];s(String.prototype,t,x),s(RegExp.prototype,p,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)})}d&&l(RegExp.prototype[p],"sham",!0)}},e7b1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"u-fixed subModal"},[a("h2",{staticClass:"subModal__title u-text-center"},[t._v(" 新增至播放清單 ")]),a("ul",{staticClass:"list list--dark-bg u-px-15 u-scroll-y"},t._l(t.usersPlaylists,(function(e){return a("li",{key:e.id,staticClass:"list__item"},[a("a",{staticClass:"list__link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.addToPlaylist(e)}}},[e.images[0]?a("img",{staticClass:"list__img",attrs:{src:e.images[0].url,alt:e.name}}):t._e(),a("div",{staticClass:"list__body"},[a("span",{staticClass:"list__title"},[t._v(" "+t._s(e.name)+" ")]),a("span",{staticClass:"list__text"},[t._v(" "+t._s(e.tracks.total)+" 首歌曲 ")])])])])})),0),a("div",{staticClass:"subModal__bottom"},[a("button",{staticClass:"subModal__btn subModal__btn--new",on:{click:t.goCreatPlaylist}},[t._v(" 新播放清單 ")]),a("button",{staticClass:"subModal__btn subModal__btn--close",on:{click:function(e){return e.preventDefault(),t.closeTrackAddto(e)}}},[t._v(" 取消 ")])]),a("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeInUp animate__faster","leave-active-class":"animate__animated animate__fadeOutDown animate__faster"}},[t.isCreateAlertOpen?[a("div",{staticClass:"alert u-fixed"},[a("div",{staticClass:"alert__dialog alert__dialog--top"},[a("div",{staticClass:"alert__content"},[a("div",{staticClass:"alert__header"},[a("h3",{staticClass:"alert__title"},[t._v(" 建立新播放清單 ")]),a("p",{staticClass:"alert__text"},[t._v(" 為新播放清單命名 ")])]),a("div",{staticClass:"alert__body u-px-15"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPlaylistName,expression:"newPlaylistName"},{name:"focus",rawName:"v-focus"}],staticClass:"alert__input",attrs:{type:"text",placeholder:"播放清單名稱"},domProps:{value:t.newPlaylistName},on:{input:function(e){e.target.composing||(t.newPlaylistName=e.target.value)}}})]),a("div",{staticClass:"alert__footer"},[a("button",{staticClass:"alert__btn",on:{click:t.closeCreateAlert}},[t._v(" 取消 ")]),a("button",{staticClass:"alert__btn",class:{"alert__btn--active":t.newPlaylistName},attrs:{disabled:t.createDisabled},on:{click:t.createPlaylist}},[t._v(" 建立 ")])])])])])]:t._e()],2),t.isCreateAlertOpen?a("Backdrop"):t._e()],1)},n=[],r=(a("4160"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),i=a("c1fb"),l={getUser:function(){return i["a"].instance.get("me")}},c=a("490b"),o=a("5b3b"),u={name:"ModalAddTo",components:{Backdrop:o["a"]},props:{track:{type:Object,default:function(){return{}}}},data:function(){return{id:"",playlists:[],isCreateAlertOpen:!1,newPlaylistName:"",createDisabled:!0}},computed:{usersPlaylists:function(){var t=this,e=[];return this.playlists.forEach((function(a){a.owner.id===t.id&&e.push(a)})),e}},watch:{newPlaylistName:function(t){this.createDisabled=!t}},created:function(){this.getUser(),this.getUserPlaylists()},methods:{getUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.getUser();case 3:a=e.sent,t.id=a.data.id,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getUserPlaylists:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getUserPlaylists();case 3:a=e.sent,t.playlists=a.data.items,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addToPlaylist:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=e.track.uri,console.log(t),a.prev=2,a.next=5,c["a"].addToPlaylist(t.id,s);case 5:e.$bus.$emit("alertMessage","已加入 ".concat(t.name)),e.closeTrackAddto(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,9]])})))()},closeTrackAddto:function(){this.$emit("closeTrackAddto")},goCreatPlaylist:function(){this.isCreateAlertOpen=!0},createPlaylist:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newPlaylistName){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c["a"].createPlaylist(t.id,t.newPlaylistName);case 5:a=e.sent,s=a.data,t.addToPlaylist(s),t.isCreateAlertOpen=!1,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()},closeCreateAlert:function(){this.newPlaylistName="",this.isCreateAlertOpen=!1}}},d=u,_=(a("7843"),a("2877")),f=Object(_["a"])(d,s,n,!1,null,"50c3394d",null);e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-0d71cf3a.dd2719d3.js.map